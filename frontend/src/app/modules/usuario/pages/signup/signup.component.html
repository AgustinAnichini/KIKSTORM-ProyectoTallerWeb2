<p-toast></p-toast>

<div class="col m-0 bg-container">
  <img [src]="bgImg" alt="fondo" class="bg-img" />  
  <div class="bg-overlay"></div>
  
  <div class="texto-info text-center">
    <h1>Crear Usuario</h1>
    <p>
      Completa el formulario para registrarte en nuestra plataforma y acceder a todos los beneficios.
    </p>
  </div>

  
  <form [formGroup]="form" (ngSubmit)="crearUsuario()" class="form-registro">

    <div class="mb-3">
      <label for="firstName" class="text-dark">Nombre:</label>
      <input id="firstName" type="text" pInputText formControlName="firstName" class="bg-white text-dark w-100" placeholder="Nombre" />
      <small *ngIf="form.get('firstName')?.hasError('required') && form.get('firstName')?.touched" class="text-danger fw-bold">
        Este campo es obligatorio
      </small>
    </div>

    <div class="mb-3">
      <label for="lastName" class="text-dark">Apellido:</label>
      <input id="lastName" type="text" pInputText formControlName="lastName" class="bg-white text-dark w-100" placeholder="Apellido" />
      <small *ngIf="form.get('lastName')?.hasError('required') && form.get('lastName')?.touched" class="text-danger fw-bold">
        Este campo es obligatorio
      </small>
    </div>

    <div class="mb-3">
      <label for="email" class="text-dark">Email:</label>
      <input id="email" type="email" pInputText formControlName="email" class="bg-white text-dark w-100" placeholder="Email" />
      <small *ngIf="form.get('email')?.hasError('required') && form.get('email')?.touched" class="text-danger fw-bold">
        Este campo es obligatorio
      </small>
      <small *ngIf="form.get('email')?.hasError('email') && form.get('email')?.touched" class="text-danger fw-bold">
        Email inválido
      </small>
    </div>

    <div class="mb-3">
      <label for="password" class="text-dark">Contraseña:</label>
      <input id="password" type="password" pInputText formControlName="password" class="bg-white text-dark w-100" placeholder="Contraseña" />
      <small *ngIf="form.get('password')?.hasError('required') && form.get('password')?.touched" class="text-danger fw-bold">
        Este campo es obligatorio
      </small>
      <small *ngIf="form.get('password')?.hasError('minlength') && form.get('password')?.touched" class="text-danger fw-bold">
        La contraseña debe tener al menos 6 caracteres
      </small>
    </div>

    <div class="mb-3">
      <label for="address" class="text-dark">Dirección:</label>
      <input id="address" type="text" pInputText formControlName="address" class="bg-white text-dark w-100" placeholder="Dirección" />
      <small *ngIf="form.get('address')?.hasError('required') && form.get('address')?.touched" class="text-danger fw-bold">
        Este campo es obligatorio
      </small>
    </div>

    
        <div class="row mt-3">
          <div class="col">
            <button 
              type="submit" 
              [disabled]="form.invalid" 
              class="p-button p-button-success rounded p-2 btn-form"
            >
              Iniciar Sesión
            </button>
          </div>
        </div>
  </form>
</div>
